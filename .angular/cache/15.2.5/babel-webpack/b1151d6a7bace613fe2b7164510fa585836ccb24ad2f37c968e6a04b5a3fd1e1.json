{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let StatisticsComponent = /*#__PURE__*/(() => {\n  class StatisticsComponent {\n    constructor() {\n      this.CT_folder = null;\n      this.PET_folder = null;\n      this.input_dir = '../dummyData/A200';\n    }\n    ngOnInit() {\n      //const inputDir = '../dummyData/A200';\n      // Set the URL of the API endpoint that returns the plot data\n      this.plotUrl = `/api/plot?input_dir=${this.input_dir}`;\n    }\n    //we take CT and PET folder input here and \n    onFileSelected(event, folderType) {\n      const files = event.target.files;\n      const fileArr = Array.prototype.slice.call(files);\n      // Check if all files in folder are DICOM format\n      const invalidFiles = fileArr.filter(file => !file.name.endsWith('.dcm'));\n      if (invalidFiles.length > 0) {\n        alert(`Invalid files in ${folderType} folder. Only DICOM files are allowed.`);\n        return;\n      }\n      // Store folder path based on folder type\n      if (folderType === 'CT') {\n        this.CT_folder = files[0].webkitRelativePath.split(files[0].name)[0];\n      } else if (folderType === 'PET') {\n        this.PET_folder = files[0].webkitRelativePath.split(files[0].name)[0];\n      }\n    }\n    //to prediction\n    onUpload() {\n      // Check if both folders are selected\n      if (!this.CT_folder || !this.PET_folder) {\n        alert('Please select both CT and PET folders.');\n        return;\n      }\n      console.log(\"onUpload() ok\");\n      // Call prediction class with folder paths\n      //this.predictionService.predict(this.CT_folder, this.PET_folder).subscribe(result => {\n      // handle result here\n      //}, error => {\n      //  console.log(error);\n      //});\n    }\n  }\n\n  StatisticsComponent.ɵfac = function StatisticsComponent_Factory(t) {\n    return new (t || StatisticsComponent)();\n  };\n  StatisticsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StatisticsComponent,\n    selectors: [[\"app-statistics\"]],\n    decls: 30,\n    vars: 1,\n    consts: [[1, \"card\"], [1, \"card-head\"], [1, \"card-body\"], [\"for\", \"ctrl\"], [\"type\", \"file\", \"accept\", \".dcm\", \"webkitdirectory\", \"\", \"directory\", \"\", \"required\", \"\", 3, \"change\"], [\"type\", \"submit\", 2, \"background-color\", \"#04383f\", \"color\", \"aliceblue\", \"margin\", \"5px\", \"border-radius\", \"5px\", \"width\", \"150px\", \"height\", \"25px\", 3, \"click\"], [3, \"src\"]],\n    template: function StatisticsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Diagnosis\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"hr\");\n        i0.ɵɵelementStart(3, \"div\", 0)(4, \"div\", 1);\n        i0.ɵɵtext(5, \"Please upload CT and PET scans in the respective fields\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 3);\n        i0.ɵɵtext(8, \"CT Scans\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function StatisticsComponent_Template_input_change_9_listener($event) {\n          return ctx.onFileSelected($event, \"CT\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 3);\n        i0.ɵɵtext(11, \"PET Scans\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function StatisticsComponent_Template_input_change_12_listener($event) {\n          return ctx.onFileSelected($event, \"PET\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function StatisticsComponent_Template_button_click_13_listener() {\n          return ctx.onUpload();\n        });\n        i0.ɵɵtext(14, \"Upload\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 0)(16, \"div\", 1);\n        i0.ɵɵtext(17, \"Results\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 2);\n        i0.ɵɵelement(19, \"img\", 6);\n        i0.ɵɵtext(20, \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quas ducimus soluta, quasi aut ipsa non, ullam enim rem repudiandae, vitae provident animi. Inventore rerum, voluptas optio dignissimos blanditiis modi illo! \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 0)(22, \"div\", 1);\n        i0.ɵɵtext(23, \"3D visualization\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 2);\n        i0.ɵɵtext(25, \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quas ducimus soluta, quasi aut ipsa non, ullam enim rem repudiandae, vitae provident animi. Inventore rerum, voluptas optio dignissimos blanditiis modi illo! \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(26, \"br\")(27, \"br\")(28, \"hr\")(29, \"br\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"src\", \"/api/plot?input_dir=\" + ctx.input_dir, i0.ɵɵsanitizeUrl);\n      }\n    },\n    styles: [\"h1[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#04383f}.card-body[_ngcontent-%COMP%]{font-weight:50;color:#04383f}.card-head[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#04383f}input[_ngcontent-%COMP%]{width:100%;border:2px solid #aaa;border-radius:10px;margin:8px 0;outline:none;padding:8px;box-sizing:border-box;transition:.3s}input[_ngcontent-%COMP%]:focus{border-color:#04383f;box-shadow:0 0 8px #04383f}\"]\n  });\n  return StatisticsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}